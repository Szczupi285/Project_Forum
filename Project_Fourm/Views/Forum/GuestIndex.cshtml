@model PostCompositeModel

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = "~/Views/Shared/_SidebarLayoutIndexLoggedOut.cshtml";
    <div class="display-post">
        @using (Html.BeginForm("Index", "Forum", FormMethod.Post))
        {
            <div class="filters">
                <div class="choose-hour-filter">
                    <label class="radio-button-label">
                        @Html.RadioButtonFor(model => model.FilterPostsModel.SelectedTimeFilter, TimeFilter.sixHours,
                new {@class = "radio-button-style"})
                        <span class="label-text">6h</span>
                    </label>
                    <label class="radio-button-label">
                        @Html.RadioButtonFor(model => model.FilterPostsModel.SelectedTimeFilter, TimeFilter.twelveHours,
                new {@class = "radio-button-style"})
                        <span class="label-text">12h</span>
                    </label>
                    <label class="radio-button-label">
                        @Html.RadioButtonFor(model => model.FilterPostsModel.SelectedTimeFilter, TimeFilter.day,
                new {@class = "radio-button-style"})
                        <span class="label-text">day</span>
                    </label>
                    <label class="radio-button-label">
                        @Html.RadioButtonFor(model => model.FilterPostsModel.SelectedTimeFilter, TimeFilter.week,
                new {@class = "radio-button-style"})
                        <span class="label-text">week</span>
                    </label>
                    <label class="radio-button-label">
                        @Html.RadioButtonFor(model => model.FilterPostsModel.SelectedTimeFilter, TimeFilter.month,
                new {@class = "radio-button-style"})
                        <span class="label-text">month</span>
                    </label>
                </div>

                <div class="search-container">
                    <input type="text" id="search-input" placeholder="Choose tag...">
                    <button class="search-button" value="search">
                        <i class="material-icons">search</i>
                    </button>
                </div>
            </div>
        }
        <div class="display-post-container">
            @foreach (var postDisplay in Model.PostDisplayContents)
            {
                <div class="single-post-display">
                    <p class="post-username">@postDisplay.Item1.Username</p>
                    <p class="post-content">@postDisplay.Item1.Content</p>
                    <p class="post-creation-date">@postDisplay.Item1.CreationDate</p>
                </div>

                @foreach (var respondDisplay in postDisplay.Item2)
                {
                    <div class="single-respond-display">
                        <p class="respond-username">@respondDisplay.Username</p>
                        <p class="respond-content">@respondDisplay.Content</p>
                        <p class="respond-creation-date">@respondDisplay.CreationDate</p>
                       
                    </div>
                }
            }
        </div>

    </div>
}
@section scripts {
    <script>
        $(document).ready(function () {
            // This function will be executed when a radio button is chosen
            $('input[class="radio-button-style"]').change(function () {

                // Trigger the form submission
                $('form').submit();
            });
        });
    </script>

    }